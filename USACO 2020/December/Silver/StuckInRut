#include<bits/stdc++.h>

using namespace std;
using ll = long long ;
int main() {
	ios::sync_with_stdio(false);
	cin.tie(NULL);
	ll t, n, m, ans, s, sum, I, J, x, y, r, p, i, j;

	cin >> n;
	
	char ch[n + 2];
	ll a[n + 2], b[n + 2];
	
	for (i = 1; i <= n; i ++) {
		cin >> ch[i] >> a[i] >> b[i];
	}
	ll Alive[10004] = {0};
	vector < pair < ll, pair < ll, ll > > > v;
	for (i = 1; i <= n; i ++) {
		for (j = i + 1; j <= n; j ++) {
			I = max(a[i], a[j]);
			J = max(b[i], b[j]);
			
			if ( ch[i] == ch[j]) {
				if ( ch[i] == 'N') {
					if ( a[i] == a[j]) {
						if ( b[i] == b[j]) continue;
						if ( b[i] > b[j]) v.push_back({abs(b[i] -b[j]), {i, j}});
						else v.push_back({abs(b[i] - b[j]), {j, i}});
					}
					else continue;
				}
				else {
					if ( b[i] == b[j]) {
						if ( a[i] == a[j]) continue;
						if ( a[i] > a[j]) v.push_back({abs(a[i] -a[j]), {i, j}});
						else v.push_back({abs(a[i] -a[j]), {j, i}});
					}
					else continue;
				}
			}
			else {
				if ( I + J - a[i] - b[i] == I + J - a[j] - b[j] || (I - a[i] == 0 && J - b[i] == 0) || (I - a[j] == 0 && J - b[j] == 0)) continue;
				if ( I == a[i]) {
					if ( ch[i] != 'N') continue;
				}
				else {
					if ( ch[j] != 'N') continue;
				}
				if ( J == b[i]) {
					if ( ch[i] != 'E') continue;
				}
				else {
					if ( ch[j] != 'E') continue;
				}
				
				ll Max = I + J - min(a[i] + b[i], a[j] + b[j]);
				if ( I + J - a[i] - b[i] > I + J - a[j] - b[j] ) v.push_back({Max, {j, i}});
				else v.push_back({Max, {i, j}});
			}
		}
	}
	sort(v.begin(), v.end());
	ll Ans[10004];
	for (i = 1; i<= n; i ++ ) Ans[i] = 1;
	for (i = 0; i < v.size();i ++) {
		if ( Alive[v[i].second.second] == 1 || Alive[v[i].second.first] == 1) continue;
		Ans[v[i].second.first] += (Ans[v[i].second.second]);
		Alive[v[i].second.second] = 1;
	}
	for (i = 1; i<= n; i ++) {
		cout << Ans[i] - 1<< endl;
	}
}
